<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto-Fill Assistant</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <header class="popup__header">
        <h1 class="popup__title">Auto-Fill Assistant</h1>
        <div class="popup__status" id="statusIndicator">
            <span class="popup__status-dot popup__status-dot--inactive"></span>
            <span class="popup__status-text">Ready</span>
        </div>
    </header>

    <main class="popup__main">
        <section class="popup__actions">
            <button class="btn btn--primary" id="fillFormBtn" disabled>
                <span class="btn__icon">‚ö°</span>
                Fill Form
            </button>
            <button class="btn btn--secondary" id="detectFieldsBtn" disabled>
                <span class="btn__icon">üîç</span>
                Detect Fields
            </button>
            <div class="popup__mode" id="tryModeGroup" aria-label="Detection Mode">
                <label class="toggle" for="tryModeToggle">
                    <input type="checkbox" id="tryModeToggle" aria-label="Try on this site" />
                    <span class="toggle__track" aria-hidden="true"></span>
                    <span class="toggle__text">Try on this site</span>
                </label>
                <div id="tryModeNote" class="hint hint--hidden" role="note" aria-live="polite">
                    <span class="hint__icon">‚ö†Ô∏è</span>
                    <span class="hint__text">Experimental mode enabled: Detection and auto-fill may be less accurate on this site. Please review before submitting.</span>
                </div>
            </div>
        </section>

        <section class="popup__info" id="formInfo">
            <div class="info-card info-card--hidden" id="detectionResults">
                <h3 class="info-card__title">Fields Detected</h3>
                <div class="info-card__content">
                    <div class="field-count" id="fieldCount">
                        <span class="field-count__number">0</span>
                        <span class="field-count__text">form fields found</span>
                    </div>
                    <div class="field-types" id="fieldTypes"></div>
                </div>
            </div>
        </section>

        <section class="popup__profile">
            <div class="profile-status" id="profileStatus">
                <div class="profile-status__icon">üë§</div>
                <div class="profile-status__content">
                    <span class="profile-status__text">No profile configured</span>
                    <button class="profile-status__action" id="setupProfileBtn">
                        Set up profile
                    </button>
                </div>
            </div>
        </section>
    </main>

    <footer class="popup__footer">
        <button class="footer-btn" id="settingsBtn" title="Settings">
            <span class="footer-btn__icon">‚öôÔ∏è</span>
        </button>
        <button class="footer-btn" id="helpBtn" title="Help">
            <span class="footer-btn__icon">‚ùì</span>
        </button>
    </footer>

    <script src="../utils/storage.js"></script>
    <script src="popup.js"></script>
</body>
</html>
